const ke=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};ke();function G(){}function ge(e){return e()}function de(){return Object.create(null)}function H(e){e.forEach(ge)}function Ce(e){return typeof e=="function"}function ve(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Oe(e){return Object.keys(e).length===0}function a(e,t){e.appendChild(t)}function A(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function Ae(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function N(){return b(" ")}function P(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function s(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Q(e){return e===""?null:+e}function Le(e){return Array.from(e.childNodes)}function T(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t){e.value=t==null?"":t}let oe;function V(e){oe=e}const U=[],pe=[],W=[],_e=[],Pe=Promise.resolve();let ie=!1;function je(){ie||(ie=!0,Pe.then(be))}function re(e){W.push(e)}const le=new Set;let R=0;function be(){const e=oe;do{for(;R<U.length;){const t=U[R];R++,V(t),Ne(t.$$)}for(V(null),U.length=0,R=0;pe.length;)pe.pop()();for(let t=0;t<W.length;t+=1){const n=W[t];le.has(n)||(le.add(n),n())}W.length=0}while(U.length);for(;_e.length;)_e.pop()();ie=!1,le.clear(),V(e)}function Ne(e){if(e.fragment!==null){e.update(),H(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}const X=new Set;let Fe;function ye(e,t){e&&e.i&&(X.delete(e),e.i(t))}function Ie(e,t,n,l){if(e&&e.o){if(X.has(e))return;X.add(e),Fe.c.push(()=>{X.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}function Me(e){e&&e.c()}function $e(e,t,n,l){const{fragment:i,on_mount:o,on_destroy:c,after_update:d}=e.$$;i&&i.m(t,n),l||re(()=>{const r=o.map(ge).filter(Ce);c?c.push(...r):H(r),e.$$.on_mount=[]}),d.forEach(re)}function we(e,t){const n=e.$$;n.fragment!==null&&(H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Se(e,t){e.$$.dirty[0]===-1&&(U.push(e),je(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function qe(e,t,n,l,i,o,c,d=[-1]){const r=oe;V(e);const f=e.$$={fragment:null,ctx:null,props:o,update:G,not_equal:i,bound:de(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:de(),dirty:d,skip_bound:!1,root:t.target||r.$$.root};c&&c(f.root);let L=!1;if(f.ctx=n?n(e,t.props||{},(y,$,..._)=>{const F=_.length?_[0]:$;return f.ctx&&i(f.ctx[y],f.ctx[y]=F)&&(!f.skip_bound&&f.bound[y]&&f.bound[y](F),L&&Se(e,y)),$}):[],f.update(),L=!0,H(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const y=Le(t.target);f.fragment&&f.fragment.l(y),y.forEach(k)}else f.fragment&&f.fragment.c();t.intro&&ye(e.$$.fragment),$e(e,t.target,t.anchor,t.customElement),be()}V(r)}class Ee{$destroy(){we(this,1),this.$destroy=G}$on(t,n){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(t){this.$$set&&!Oe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function he(e,t,n){const l=e.slice();return l[12]=t[n][0],l[13]=t[n][1],l}function me(e){let t,n=e[12]+"",l,i,o,c,d;return{c(){t=m("div"),l=b(n),i=N(),o=m("div"),s(o,"class","probability svelte-15fqigf"),s(o,"style",c=`---width: ${(e[13]*100).toFixed(2)}%`),s(o,"data-content",d=`${(e[13]*100).toFixed(2)}%`)},m(r,f){A(r,t,f),a(t,l),A(r,i,f),A(r,o,f)},p(r,f){f&16&&n!==(n=r[12]+"")&&T(l,n),f&16&&c!==(c=`---width: ${(r[13]*100).toFixed(2)}%`)&&s(o,"style",c),f&16&&d!==(d=`${(r[13]*100).toFixed(2)}%`)&&s(o,"data-content",d)},d(r){r&&k(t),r&&k(i),r&&k(o)}}}function De(e){let t,n,l,i,o,c,d,r,f,L,y,$,_,F,C=(e[2]*100|0)+"",I,S,x,O,g,z,M=(e[3]*100|0)+"",w,q,D,E,Y,ue,Z,se,ee,K,fe,J=(e[5]|0)+"",te,ne,ae,B=e[4],v=[];for(let u=0;u<B.length;u+=1)v[u]=me(he(e,B,u));return{c(){t=m("div"),n=m("label"),l=m("input"),i=b(`
    \uC2DC\uD589 \uD69F\uC218 `),o=b(e[0]),c=N(),d=m("label"),r=m("input"),f=b(`
    \uACF5\uACA9\uB825 `),L=b(e[1]),y=N(),$=m("label"),_=m("input"),F=b(`
    \uCE58\uBA85\uD0C0 \uD655\uB960 `),I=b(C),S=b("%"),x=N(),O=m("label"),g=m("input"),z=b(`
    \uCE58\uBA85\uD0C0 \uD53C\uD574\uB7C9 `),w=b(M),q=b("%"),D=N(),E=m("div"),Y=m("div"),Y.textContent="\uB204\uC801\uD53C\uD574\uB7C9",ue=N(),Z=m("div"),Z.textContent="\uD655\uB960",se=N();for(let u=0;u<v.length;u+=1)v[u].c();ee=N(),K=m("div"),fe=b("\uAE30\uB313\uAC12 "),te=b(J),s(l,"type","range"),s(l,"min",0),s(l,"max",10),s(l,"step",1),s(l,"class","svelte-15fqigf"),s(n,"class","svelte-15fqigf"),s(r,"type","range"),s(r,"min",50),s(r,"max",250),s(r,"step",10),s(r,"class","svelte-15fqigf"),s(d,"class","svelte-15fqigf"),s(_,"type","range"),s(_,"min",0),s(_,"max",1),s(_,"step",.01),s(_,"class","svelte-15fqigf"),s($,"class","svelte-15fqigf"),s(g,"type","range"),s(g,"min",1.7),s(g,"max",2.25),s(g,"step",.05),s(g,"class","svelte-15fqigf"),s(O,"class","svelte-15fqigf"),s(t,"class","container svelte-15fqigf"),s(E,"class","graph svelte-15fqigf")},m(u,p){A(u,t,p),a(t,n),a(n,l),j(l,e[0]),a(n,i),a(n,o),a(t,c),a(t,d),a(d,r),j(r,e[1]),a(d,f),a(d,L),a(t,y),a(t,$),a($,_),j(_,e[2]),a($,F),a($,I),a($,S),a(t,x),a(t,O),a(O,g),j(g,e[3]),a(O,z),a(O,w),a(O,q),A(u,D,p),A(u,E,p),a(E,Y),a(E,ue),a(E,Z),a(E,se);for(let h=0;h<v.length;h+=1)v[h].m(E,null);A(u,ee,p),A(u,K,p),a(K,fe),a(K,te),ne||(ae=[P(l,"change",e[6]),P(l,"input",e[6]),P(r,"change",e[7]),P(r,"input",e[7]),P(_,"change",e[8]),P(_,"input",e[8]),P(g,"change",e[9]),P(g,"input",e[9])],ne=!0)},p(u,[p]){if(p&1&&j(l,u[0]),p&1&&T(o,u[0]),p&2&&j(r,u[1]),p&2&&T(L,u[1]),p&4&&j(_,u[2]),p&4&&C!==(C=(u[2]*100|0)+"")&&T(I,C),p&8&&j(g,u[3]),p&8&&M!==(M=(u[3]*100|0)+"")&&T(w,M),p&16){B=u[4];let h;for(h=0;h<B.length;h+=1){const ce=he(u,B,h);v[h]?v[h].p(ce,p):(v[h]=me(ce),v[h].c(),v[h].m(E,null))}for(;h<v.length;h+=1)v[h].d(1);v.length=B.length}p&32&&J!==(J=(u[5]|0)+"")&&T(te,J)},i:G,o:G,d(u){u&&k(t),u&&k(D),u&&k(E),Ae(v,u),u&&k(ee),u&&k(K),ne=!1,H(ae)}}}let Be=1e5;function Te(e,t,n){let l,i,o=4,c=150,d=.7,r=1.7;const f=new Map([[0,0],[.01,5e-4],[.02,.0014],[.03,.0022],[.04,.003],[.05,.0038],[.06,.006],[.07,.0082],[.08,.0104],[.09,.0126],[.1,.0148],[.11,.0182],[.12,.0217],[.13,.0252],[.14,.0287],[.15,.0322],[.16,.0369],[.17,.0416],[.18,.0463],[.19,.051],[.2,.0557],[.21,.0615],[.22,.0673],[.23,.0731],[.24,.0789],[.25,.0848],[.26,.0916],[.27,.0984],[.28,.1053],[.29,.1121],[.3,.119],[.31,.1264],[.32,.134],[.33,.1418],[.34,.1498],[.35,.158],[.36,.1663],[.37,.1749],[.38,.1836],[.39,.1925],[.4,.2016],[.41,.2109],[.42,.2204],[.43,.2299],[.44,.2395],[.45,.2493],[.46,.2599],[.47,.2705],[.48,.281],[.49,.2916],[.5,.3021],[.51,.3127],[.52,.3233],[.53,.3341],[.54,.3474],[.55,.3604],[.56,.3732],[.57,.3858],[.58,.3983],[.59,.4106],[.6,.4227],[.61,.4346],[.62,.4464],[.63,.4581],[.64,.4697],[.65,.4811],[.66,.4925],[.67,.5075],[.68,.5294],[.69,.5507],[.7,.5714],[.71,.5916],[.72,.6111],[.73,.6301],[.74,.6487],[.75,.6667],[.76,.6842],[.77,.7013],[.78,.718],[.79,.7342],[.8,.75],[.81,.7654],[.82,.7805],[.83,.7952],[.84,.8095],[.85,.8235],[.86,.8372],[.87,.8506],[.88,.8636],[.89,.8764],[.9,.8889],[.91,.9011],[.92,.913],[.93,.9247],[.94,.9362],[.95,.9474],[.96,.9583],[.97,.9691],[.98,.9796],[.99,.9899],[1,1]]);function L(C,I,S,x,O){var M;const g={},z=f.get(x);if(z==null)throw new Error("Critical chance not found"+x);for(let w=0;w<C;w++){let q=0;for(let D=0;D<I;D++)q+=S*(Math.random()<z?O:1)|0;g[q]=((M=g[q])!=null?M:0)+1}return Object.entries(g).map(([w,q])=>[w,q/C]).sort((w,q)=>parseInt(w[0])-parseInt(q[0]))}function y(){o=Q(this.value),n(0,o)}function $(){c=Q(this.value),n(1,c)}function _(){d=Q(this.value),n(2,d)}function F(){r=Q(this.value),n(3,r)}return e.$$.update=()=>{e.$$.dirty&15&&n(4,l=L(Be,o,c,d,r)),e.$$.dirty&16&&n(5,i=l.reduce((C,[I,S])=>C+parseInt(I)*S,0))},[o,c,d,r,l,i,y,$,_,F]}class xe extends Ee{constructor(t){super(),qe(this,t,Te,De,ve,{})}}function ze(e){let t,n,l;return n=new xe({}),{c(){t=m("main"),Me(n.$$.fragment),s(t,"class","svelte-1bt8zho")},m(i,o){A(i,t,o),$e(n,t,null),l=!0},p:G,i(i){l||(ye(n.$$.fragment,i),l=!0)},o(i){Ie(n.$$.fragment,i),l=!1},d(i){i&&k(t),we(n)}}}class Ke extends Ee{constructor(t){super(),qe(this,t,null,ze,ve,{})}}new Ke({target:document.getElementById("app")});
